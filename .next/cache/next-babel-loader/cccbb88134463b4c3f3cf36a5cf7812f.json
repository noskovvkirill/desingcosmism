{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/kirill/Desktop/DESIGN3D/pages/index.js\",\n    _s = $RefreshSig$(),\n    _this = this,\n    _s2 = $RefreshSig$();\n\nimport * as THREE from \"three\";\nimport { useRef, useState, Suspense, useEffect, useCallback } from 'react';\nimport { Canvas, useThree, useFrame } from \"react-three-fiber\";\nimport { OrbitControls } from 'drei';\nimport { useFBX } from '@react-three/drei/useFBX';\nimport Layout from '../components/layout';\nimport { EffectComposer, DepthOfField, Bloom, Noise } from '@react-three/postprocessing';\nimport UseFBXScene from '../components/baby';\nimport Loader from '../components/loader';\nimport React from 'react';\n\nfunction Bg() {\n  _s();\n\n  var _useThree = useThree(),\n      viewport = _useThree.viewport;\n\n  var max = Math.max(viewport.width, viewport.height);\n  var ref = useRef();\n  useFrame(function (state, delta) {\n    return ref.current.time += delta;\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    scale: [max, max, 1],\n    children: [/*#__PURE__*/_jsxDEV(\"planeBufferGeometry\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"colorShiftMaterial\", {\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Bg, \"w9T62v2WFpy8n2ONrD8tkerNENY=\", false, function () {\n  return [useThree, useFrame];\n});\n\n_c = Bg;\n\nvar Index = function Index() {\n  _s2();\n\n  var _useState = useState(null),\n      image = _useState[0],\n      setImage = _useState[1];\n\n  var _useState2 = useState(false),\n      isScreenshot = _useState2[0],\n      setScreenshot = _useState2[1];\n\n  var _useState3 = useState(false),\n      isSnap = _useState3[0],\n      setIsSnap = _useState3[1];\n\n  var _useState4 = useState(1),\n      random = _useState4[0],\n      setRandom = _useState4[1];\n\n  useEffect(function () {\n    console.log('image has changed!');\n\n    if (image !== null) {\n      setImage(image);\n      console.log('image', image); // setScreenshot(false)\n      // setIsSnap(true)\n    }\n  }, [image]);\n  useEffect(function () {\n    setRandom(parseInt(Math.random() * (random - 1)));\n  }, []);\n  var Snapshot = useCallback(function () {\n    setScreenshot(true);\n  });\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"three\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: isSnap ? 'modalImage' : 'modalImageHidden',\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          width: \"100%\",\n          height: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, _this), /*#__PURE__*/_jsxDEV(Canvas, {\n        camera: {\n          fov: 75,\n          position: [0, 10, 7]\n        },\n        id: \"canvasik\",\n        invalidateFrameloop: true,\n        onCreated: function onCreated() {\n          console.log('loaded');\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n          intensity: 22.2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n          position: [40, 40, 40]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n          enableZoom: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: null,\n          children: /*#__PURE__*/_jsxDEV(UseFBXScene, {\n            setImage: setImage,\n            isScreenshot: isScreenshot,\n            random: random\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(EffectComposer, {\n          children: [/*#__PURE__*/_jsxDEV(DepthOfField, {\n            focusDistance: 1.0,\n            focalLength: 0.02,\n            bokehScale: 0.2,\n            height: 800\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(Bloom, {\n            luminanceThreshold: 2.0,\n            luminanceSmoothing: 0.5,\n            height: 800\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(Noise, {\n            opacity: 0.15\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 9\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"snapshot\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          Snapshot();\n        },\n        children: \"Snap!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 4\n  }, _this);\n};\n\n_s2(Index, \"ydYD2frS40RG+ijJI5EdM538bp8=\");\n\n_c2 = Index;\nexport default _c3 = /*#__PURE__*/React.memo(Index);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Bg\");\n$RefreshReg$(_c2, \"Index\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["/Users/kirill/Desktop/DESIGN3D/pages/index.js"],"names":["THREE","useRef","useState","Suspense","useEffect","useCallback","Canvas","useThree","useFrame","OrbitControls","useFBX","Layout","EffectComposer","DepthOfField","Bloom","Noise","UseFBXScene","Loader","React","Bg","viewport","max","Math","width","height","ref","state","delta","current","time","Index","image","setImage","isScreenshot","setScreenshot","isSnap","setIsSnap","random","setRandom","console","log","parseInt","Snapshot","fov","position","e","preventDefault","memo"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,QAA3B,EAAqCC,SAArC,EAAgDC,WAAhD,QAAmE,OAAnE;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA0BC,QAA1B,QAAyC,mBAAzC;AACA,SAASC,aAAT,QAA+B,MAA/B;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,cAAT,EAAyBC,YAAzB,EAAuCC,KAAvC,EAA8CC,KAA9C,QAA2D,6BAA3D;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAMA,SAASC,EAAT,GAAc;AAAA;;AAAA,kBACSZ,QAAQ,EADjB;AAAA,MACJa,QADI,aACJA,QADI;;AAEZ,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,CAASD,QAAQ,CAACG,KAAlB,EAAyBH,QAAQ,CAACI,MAAlC,CAAZ;AACA,MAAMC,GAAG,GAAGxB,MAAM,EAAlB;AACAO,EAAAA,QAAQ,CAAC,UAACkB,KAAD,EAAQC,KAAR;AAAA,WAAmBF,GAAG,CAACG,OAAJ,CAAYC,IAAZ,IAAoBF,KAAvC;AAAA,GAAD,CAAR;AACA,sBACE;AAAM,IAAA,KAAK,EAAE,CAACN,GAAD,EAAMA,GAAN,EAAW,CAAX,CAAb;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAoB,MAAA,GAAG,EAAEI;AAAzB;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;GAXQN,E;UACcZ,Q,EAGrBC,Q;;;KAJOW,E;;AAgBT,IAAMW,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;;AAAA,kBAEQ5B,QAAQ,CAAC,IAAD,CAFhB;AAAA,MAEX6B,KAFW;AAAA,MAEJC,QAFI;;AAAA,mBAGoB9B,QAAQ,CAAC,KAAD,CAH5B;AAAA,MAGX+B,YAHW;AAAA,MAGGC,aAHH;;AAAA,mBAIUhC,QAAQ,CAAC,KAAD,CAJlB;AAAA,MAIXiC,MAJW;AAAA,MAIHC,SAJG;;AAAA,mBAKUlC,QAAQ,CAAC,CAAD,CALlB;AAAA,MAKXmC,MALW;AAAA,MAKHC,SALG;;AAOlBlC,EAAAA,SAAS,CAAC,YAAI;AACZmC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;;AACA,QAAGT,KAAK,KAAK,IAAb,EAAkB;AAChBC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBT,KAArB,EAFgB,CAGhB;AACA;AACD;AACF,GARQ,EAQP,CAACA,KAAD,CARO,CAAT;AAUA3B,EAAAA,SAAS,CAAC,YAAI;AACXkC,IAAAA,SAAS,CAACG,QAAQ,CAACnB,IAAI,CAACe,MAAL,MAAeA,MAAM,GAAC,CAAtB,CAAD,CAAT,CAAT;AACF,GAFQ,EAEP,EAFO,CAAT;AAMA,MAAMK,QAAQ,GAAGrC,WAAW,CAAC,YAAK;AAChC6B,IAAAA,aAAa,CAAC,IAAD,CAAb;AAED,GAH2B,CAA5B;AAMA,sBACC,QAAC,MAAD;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BAEA;AAAK,QAAA,SAAS,EAAEC,MAAM,GAAG,YAAH,GAAkB,kBAAxC;AAAA,+BACE;AAAK,UAAA,GAAG,EAAEJ,KAAV;AAAiB,UAAA,KAAK,EAAC,MAAvB;AAA8B,UAAA,MAAM,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eAFA,eAMC,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAE;AAACY,UAAAA,GAAG,EAAE,EAAN;AAAUC,UAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,CAAR;AAApB,SAAhB;AAAkD,QAAA,EAAE,EAAC,UAArD;AACC,QAAA,mBAAmB,EAAE,IADtB;AAEE,QAAA,SAAS,EAAE,qBAAI;AAACL,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAAsB,SAFxC;AAAA,gCAIE;AAAc,UAAA,SAAS,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,iBAJF,eAKE;AAAY,UAAA,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT;AAAtB;AAAA;AAAA;AAAA;AAAA,iBALF,eAME,QAAC,aAAD;AAAe,UAAA,UAAU,EAAE;AAA3B;AAAA;AAAA;AAAA;AAAA,iBANF,eAOE,QAAC,QAAD;AAAU,UAAA,QAAQ,EAAE,IAApB;AAAA,iCACE,QAAC,WAAD;AAAa,YAAA,QAAQ,EAAER,QAAvB;AAAiC,YAAA,YAAY,EAAEC,YAA/C;AAA6D,YAAA,MAAM,EAAEI;AAArE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAPF,eAUE,QAAC,cAAD;AAAA,kCACA,QAAC,YAAD;AAAc,YAAA,aAAa,EAAE,GAA7B;AAAkC,YAAA,WAAW,EAAE,IAA/C;AAAqD,YAAA,UAAU,EAAE,GAAjE;AAAsE,YAAA,MAAM,EAAE;AAA9E;AAAA;AAAA;AAAA;AAAA,mBADA,eAEA,QAAC,KAAD;AAAO,YAAA,kBAAkB,EAAE,GAA3B;AAAgC,YAAA,kBAAkB,EAAE,GAApD;AAAyD,YAAA,MAAM,EAAE;AAAjE;AAAA;AAAA;AAAA;AAAA,mBAFA,eAGA,QAAC,KAAD;AAAO,YAAA,OAAO,EAAE;AAAhB;AAAA;AAAA;AAAA;AAAA,mBAHA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,eAND,eAwBG;AAAQ,QAAA,SAAS,EAAC,UAAlB;AAA6B,QAAA,OAAO,EAAE,iBAACQ,CAAD,EAAK;AAACA,UAAAA,CAAC,CAACC,cAAF;AAAoBJ,UAAAA,QAAQ;AAAG,SAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAxBH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADD;AA8BD,CA3DD;;IAAMZ,K;;MAAAA,K;AA6DN,kCAAeZ,KAAK,CAAC6B,IAAN,CAAWjB,KAAX,CAAf","sourcesContent":["import * as THREE from \"three\"\nimport { useRef, useState, Suspense, useEffect, useCallback } from 'react'\nimport { Canvas, useThree,useFrame} from \"react-three-fiber\"\nimport { OrbitControls  } from 'drei'\nimport { useFBX } from '@react-three/drei/useFBX'\nimport Layout from '../components/layout'\nimport { EffectComposer, DepthOfField, Bloom, Noise } from '@react-three/postprocessing'\nimport UseFBXScene from '../components/baby'\nimport Loader from '../components/loader'\nimport React from 'react'\n\n\n\n\n  \nfunction Bg() {\n  const { viewport } = useThree()\n  const max = Math.max(viewport.width, viewport.height)\n  const ref = useRef()\n  useFrame((state, delta) => (ref.current.time += delta))\n  return (\n    <mesh scale={[max, max, 1]}>\n      <planeBufferGeometry />\n      <colorShiftMaterial ref={ref} />\n    </mesh>\n  )\n}\n\n\n\n\nconst Index = () => {\n\n  const [image, setImage] = useState(null)\n  const [isScreenshot, setScreenshot] = useState(false)\n  const [isSnap, setIsSnap] = useState(false)\n  const [random, setRandom] = useState(1)\n\n  useEffect(()=>{\n    console.log('image has changed!')\n    if(image !== null){\n      setImage(image)\n      console.log('image', image)\n      // setScreenshot(false)\n      // setIsSnap(true)\n    }\n  },[image])\n\n  useEffect(()=>{\n     setRandom(parseInt(Math.random()*(random-1)))\n  },[])\n  \n\n\n  const Snapshot = useCallback(() =>{\n    setScreenshot(true)\n\n  })\n  \n\n  return (\n   <Layout>\n     <div className=\"three\">\n\n     <div className={isSnap ? 'modalImage' : 'modalImageHidden'}>\n       <img src={image} width=\"100%\" height=\"100%\"/>\n     </div>\n\n      <Canvas camera={{fov: 75, position: [0, 10, 7] }} id=\"canvasik\" \n       invalidateFrameloop={true}\n        onCreated={()=>{console.log('loaded')}}\n      >\n        <ambientLight intensity={22.2} />\n        <pointLight position={[40, 40, 40]} />\n        <OrbitControls enableZoom={false}/>\n        <Suspense fallback={null}>\n          <UseFBXScene setImage={setImage} isScreenshot={isScreenshot} random={random}/>    \n        </Suspense>\n        <EffectComposer>\n        <DepthOfField focusDistance={1.0} focalLength={0.02} bokehScale={0.2} height={800} />\n        <Bloom luminanceThreshold={2.0} luminanceSmoothing={0.5} height={800} />\n        <Noise opacity={0.15} />\n\n      </EffectComposer>\n    \n      </Canvas>\n        <button className=\"snapshot\" onClick={(e)=>{e.preventDefault(); Snapshot()}}>Snap!</button>\n     </div>\n    </Layout>\n  )\n}\n\nexport default React.memo(Index)\n"]},"metadata":{},"sourceType":"module"}